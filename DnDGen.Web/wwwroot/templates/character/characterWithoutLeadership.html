<div>
    <dndgen-collapsable-list heading="{{character.Summary}}" has-list="true">
        <ul>
            <li>Challenge Rating: {{character.ChallengeRating}}</li>
            <li>Alignment: {{character.Alignment.Full}}</li>
            <li>
                <dndgen-collapsable-list heading="{{character.Class.Summary}}" has-list="character.Class.SpecialistFields.length || character.Class.ProhibitedFields.length">
                    <ul>
                        <li ng-show="character.Class.SpecialistFields.length">
                            <dndgen-collapsable-list heading="Specialist Fields" has-list="character.Class.SpecialistFields.length">
                                <ul>
                                    <li ng-repeat="field in character.Class.SpecialistFields track by $index">{{field}}</li>
                                </ul>
                            </dndgen-collapsable-list>
                        </li>
                        <li ng-show="character.Class.ProhibitedFields.length">
                            <dndgen-collapsable-list heading="Prohibited Fields" has-list="character.Class.ProhibitedFields.length">
                                <ul>
                                    <li ng-repeat="field in character.Class.ProhibitedFields track by $index">{{field}}</li>
                                </ul>
                            </dndgen-collapsable-list>
                        </li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
            <li>
                <dndgen-collapsable-list heading="{{character.Race.Summary}}" has-list="true">
                    <ul>
                        <li ng-show="character.Race.MetaraceSpecies.length">Metarace Species: {{character.Race.MetaraceSpecies}}</li>
                        <li>Land Speed: {{character.Race.LandSpeed.Value}} {{character.Race.LandSpeed.Unit}} <span ng-show="character.Race.LandSpeed.Description">({{character.Race.LandSpeed.Description}})</span></li>
                        <li ng-show="character.Race.HasWings">Has Wings</li>
                        <li ng-show="character.Race.AerialSpeed.Value">Aerial Speed: {{character.Race.AerialSpeed.Value}} {{character.Race.AerialSpeed.Unit}} <span ng-show="character.Race.AerialSpeed.Description">({{character.Race.AerialSpeed.Description}})</span></li>
                        <li ng-show="character.Race.SwimSpeed.Value">Swim Speed: {{character.Race.SwimSpeed.Value}} {{character.Race.SwimSpeed.Unit}} <span ng-show="character.Race.SwimSpeed.Description">({{character.Race.SwimSpeed.Description}})</span></li>
                        <li>Size: {{character.Race.Size}}</li>
                        <li>Age: {{character.Race.Age.Value}} {{character.Race.Age.Unit}} <span ng-show="character.Race.Age.Description">({{character.Race.Age.Description}})</span></li>
                        <li>Maximum Age: <span ng-show="character.Race.MaximumAge.Value > 0">{{character.Race.MaximumAge.Value}} {{character.Race.MaximumAge.Unit}}</span> <span ng-show="character.Race.MaximumAge.Description">({{character.Race.MaximumAge.Description}})</span></li>
                        <li>Height: {{character.Race.Height.Value | inchesToFeet}} <span ng-show="character.Race.Height.Description">({{character.Race.Height.Description}})</span></li>
                        <li>Weight: {{character.Race.Weight.Value}} {{character.Race.Weight.Unit}} <span ng-show="character.Race.Weight.Description">({{character.Race.Weight.Description}})</span></li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
            <li>
                <dndgen-collapsable-list heading="Abilities" has-list="true">
                    <ul>
                        <li>Strength: {{character.Abilities.Strength.Value}} ({{character.Abilities.Strength.Bonus}})</li>
                        <li ng-show="character.Abilities.Constitution">Constitution: {{character.Abilities.Constitution.Value}} ({{character.Abilities.Constitution.Bonus}})</li>
                        <li>Dexterity: {{character.Abilities.Dexterity.Value}} ({{character.Abilities.Dexterity.Bonus}})</li>
                        <li>Intelligence: {{character.Abilities.Intelligence.Value}} ({{character.Abilities.Intelligence.Bonus}})</li>
                        <li>Wisdom: {{character.Abilities.Wisdom.Value}} ({{character.Abilities.Wisdom.Bonus}})</li>
                        <li>Charisma: {{character.Abilities.Charisma.Value}} ({{character.Abilities.Charisma.Bonus}})</li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
            <li>
                <dndgen-collapsable-list heading="Languages" has-list="true">
                    <ul>
                        <li ng-repeat="language in character.Languages track by $index">{{language}}</li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
            <li>
                <dndgen-collapsable-list heading="Skills" has-list="true">
                    <table class="table table-striped">
                        <tr>
                            <th>Class Skill</th>
                            <th>Skill</th>
                            <th>Total Bonus</th>
                            <th>Ranks</th>
                            <th>Ability Bonus</th>
                            <th>Other Bonus</th>
                            <th>Armor Check Penalty</th>
                        </tr>
                        <tr ng-repeat="skill in character.Skills track by $index">
                            <td><span ng-show="skill.ClassSkill" class="glyphicon glyphicon-ok" aria-hidden="true"></span></td>
                            <td>{{skill.Name}} <span ng-show="skill.Focus">({{skill.Focus}})</span></td>
                            <td>{{skill.TotalBonus}} <span ng-show="value.CircumstantialBonus">*</span></td>
                            <td>{{skill.EffectiveRanks}}</td>
                            <td>{{skill.BaseAbility.Bonus}}</td>
                            <td>{{skill.Bonus}}</td>
                            <td>{{skill.ArmorCheckPenalty}}</td>
                        </tr>
                    </table>
                </dndgen-collapsable-list>
            </li>
            <li>
                <dndgen-collapsable-list heading="Feats" has-list="true">
                    <ul>
                        <li ng-show="character.Feats.Racial.length">
                            <dndgen-collapsable-list heading="Racial" has-list="character.Feats.Racial.length">
                                <ul>
                                    <li ng-repeat="feat in character.Feats.Racial track by $index">
                                        <dndgen-collapsable-list heading="{{feat.Name}}" has-list="feat.Foci.length > 0 || feat.Power > 0 || feat.Frequency.TimePeriod.length > 0">
                                            <ul>
                                                <li ng-show="feat.Foci.length > 0">
                                                    <dndgen-collapsable-list heading="Foci" has-list="feat.Foci.length > 0">
                                                        <ul>
                                                            <li ng-repeat="focus in feat.Foci track by $index">{{focus}}</li>
                                                        </ul>
                                                    </dndgen-collapsable-list>
                                                </li>
                                                <li ng-show="feat.Power > 0">Power: {{feat.Power}}</li>
                                                <li ng-show="feat.Frequency.TimePeriod.length > 0">Frequency: {{feat.Frequency.Quantity > 0 ? feat.Frequency.Quantity + '/' : ''}}{{feat.Frequency.TimePeriod}}</li>
                                            </ul>
                                        </dndgen-collapsable-list>
                                    </li>
                                </ul>
                            </dndgen-collapsable-list>
                        </li>
                        <li ng-show="character.Feats.Class.length">
                            <dndgen-collapsable-list heading="Class" has-list="character.Feats.Class.length">
                                <ul>
                                    <li ng-repeat="feat in character.Feats.Class track by $index">
                                        <dndgen-collapsable-list heading="{{feat.Name}}" has-list="feat.Foci.length > 0 || feat.Power > 0 || feat.Frequency.TimePeriod.length > 0">
                                            <ul>
                                                <li ng-show="feat.Foci.length > 0">
                                                    <dndgen-collapsable-list heading="Foci" has-list="feat.Foci.length > 0">
                                                        <ul>
                                                            <li ng-repeat="focus in feat.Foci track by $index">{{focus}}</li>
                                                        </ul>
                                                    </dndgen-collapsable-list>
                                                </li>
                                                <li ng-show="feat.Power > 0">Power: {{feat.Power}}</li>
                                                <li ng-show="feat.Frequency.TimePeriod.length > 0">Frequency: {{feat.Frequency.Quantity > 0 ? feat.Frequency.Quantity + '/' : ''}}{{feat.Frequency.TimePeriod}}</li>
                                            </ul>
                                        </dndgen-collapsable-list>
                                    </li>
                                </ul>
                            </dndgen-collapsable-list>
                        </li>
                        <li ng-show="character.Feats.Additional.length">
                            <dndgen-collapsable-list heading="Additional" has-list="character.Feats.Additional.length">
                                <ul>
                                    <li ng-repeat="feat in character.Feats.Additional track by $index">
                                        <dndgen-collapsable-list heading="{{feat.Name}}" has-list="feat.Foci.length > 0 || feat.Power > 0 || feat.Frequency.TimePeriod.length > 0">
                                            <ul>
                                                <li ng-show="feat.Foci.length > 0">
                                                    <dndgen-collapsable-list heading="Foci" has-list="feat.Foci.length > 0">
                                                        <ul>
                                                            <li ng-repeat="focus in feat.Foci track by $index">{{focus}}</li>
                                                        </ul>
                                                    </dndgen-collapsable-list>
                                                </li>
                                                <li ng-show="feat.Power > 0">Power: {{feat.Power}}</li>
                                                <li ng-show="feat.Frequency.TimePeriod.length > 0">Frequency: {{feat.Frequency.Quantity > 0 ? feat.Frequency.Quantity + '/' : ''}}{{feat.Frequency.TimePeriod}}</li>
                                            </ul>
                                        </dndgen-collapsable-list>
                                    </li>
                                </ul>
                            </dndgen-collapsable-list>
                        </li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
            <li>Interesting Trait: {{character.InterestingTrait.length > 0 ? character.InterestingTrait : 'None'}}</li>
            <li ng-show="character.Magic.SpellsPerDay.length > 0">
                <dndgen-collapsable-list heading="Spells Per Day" has-list="character.Magic.SpellsPerDay.length > 0">
                    <ul>
                        <li ng-repeat="spellLevel in character.Magic.SpellsPerDay track by $index">Level {{spellLevel.Level}} {{spellLevel.Source}}: {{spellLevel.Quantity}} {{spellLevel.HasDomainSpell ? '+ 1' : ''}}</li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
            <li ng-show="character.Magic.KnownSpells.length > 0">
                <dndgen-collapsable-list heading="Known Spells" has-list="character.Magic.KnownSpells.length > 0">
                    <ul>
                        <li ng-repeat="spell in character.Magic.KnownSpells track by $index">Level {{spell.Level}} {{spell.Source}}: {{spell.Name}}</li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
            <li ng-show="character.Magic.PreparedSpells.length > 0">
                <dndgen-collapsable-list heading="Prepared Spells" has-list="character.Magic.PreparedSpells.length > 0">
                    <ul>
                        <li ng-repeat="spell in character.Magic.PreparedSpells track by $index">Level {{spell.Level}} {{spell.Source}}: {{spell.Name}}</li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
            <li ng-show="character.Magic.ArcaneSpellFailure > 0">Arcane Spell Failure: {{character.Magic.ArcaneSpellFailure}}%</li>
            <li ng-show="character.Magic.Animal.length > 0">Animal: {{character.Magic.Animal}}</li>
            <li>
                <dndgen-collapsable-list heading="Equipment" has-list="true">
                    <ul>
                        <li>
                            <dndgen-collapsable-list heading="Primary Hand{{character.Equipment.PrimaryHand ? '' : ': None'}}" has-list="character.Equipment.PrimaryHand">
                                <dndgen-item item="character.Equipment.PrimaryHand"></dndgen-item>
                            </dndgen-collapsable-list>
                        </li>
                        <li>
                            <span ng-hide="character.Equipment.OffHand">Off Hand: None</span>
                            <span ng-show="character.Equipment.PrimaryHand.Attributes.indexOf('Two-Handed') > -1">Off Hand: (Two-Handed)</span>
                            <dndgen-collapsable-list heading="Off Hand" has-list="character.Equipment.OffHand && character.Equipment.PrimaryHand.Attributes.indexOf('Two-Handed') == -1" ng-show="character.Equipment.OffHand && character.Equipment.PrimaryHand.Attributes.indexOf('Two-Handed') == -1">
                                <dndgen-item item="character.Equipment.OffHand"></dndgen-item>
                            </dndgen-collapsable-list>
                        </li>
                        <li>
                            <dndgen-collapsable-list heading="Armor{{character.Equipment.Armor ? '' : ': None'}}" has-list="character.Equipment.Armor">
                                <dndgen-item item="character.Equipment.Armor"></dndgen-item>
                            </dndgen-collapsable-list>
                        </li>
                        <li>
                            <dndgen-collapsable-list heading="Treasure{{character.Equipment.Treasure.IsAny ? '' : ': None'}}" has-list="character.Equipment.Treasure.IsAny">
                                <dndgen-treasure treasure="character.Equipment.Treasure"></dndgen-treasure>
                            </dndgen-collapsable-list>
                        </li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
            <li>
                <dndgen-collapsable-list heading="Combat" has-list="true">
                    <ul>
                        <li>Adjusted Dexterity Bonus: {{character.Combat.AdjustedDexterityBonus}}</li>
                        <li>
                            <span>Armor Class: {{character.Combat.ArmorClass.Full}} <span ng-show="character.Combat.ArmorClass.CircumstantialBonus">*</span></span>
                            <ul>
                                <li>Flat-Footed: {{character.Combat.ArmorClass.FlatFooted}}</li>
                                <li>Touch: {{character.Combat.ArmorClass.Touch}}</li>
                            </ul>
                        </li>
                        <li>
                            <span>Base Attack:</span>
                            <ul>
                                <li>Melee: {{character.Combat.BaseAttack.AllMeleeBonuses[0] > -1 ? '+' : ''}}{{character.Combat.BaseAttack.AllMeleeBonuses[0]}}<span ng-repeat="bonus in character.Combat.BaseAttack.AllMeleeBonuses" ng-if="!$first">/{{bonus > -1 ? '+' : ''}}{{bonus}}</span> <span ng-show="character.Combat.BaseAttack.CircumstantialBonus">*</span></li>
                                <li>Ranged: {{character.Combat.BaseAttack.AllRangedBonuses[0] > -1 ? '+' : ''}}{{character.Combat.BaseAttack.AllRangedBonuses[0]}}<span ng-repeat="bonus in character.Combat.BaseAttack.AllRangedBonuses" ng-if="!$first">/{{bonus > -1 ? '+' : ''}}{{bonus}}</span> <span ng-show="character.Combat.BaseAttack.CircumstantialBonus">*</span></li>
                            </ul>
                        </li>
                        <li>Hit Points: {{character.Combat.HitPoints}}</li>
                        <li>Initiative Bonus: {{character.Combat.InitiativeBonus}}</li>
                        <li>
                            <span>Saving Throws:</span>
                            <ul>
                                <li ng-show="character.Combat.SavingThrows.HasFortitudeSave">Fortitude: {{character.Combat.SavingThrows.Fortitude}}</li>
                                <li>Reflex: {{character.Combat.SavingThrows.Reflex}}</li>
                                <li>Will: {{character.Combat.SavingThrows.Will}}</li>
                                <li ng-show="character.Combat.SavingThrows.CircumstantialBonus">Circumstantial Bonus</li>
                            </ul>
                        </li>
                    </ul>
                </dndgen-collapsable-list>
            </li>
        </ul>
    </dndgen-collapsable-list>
</div>
