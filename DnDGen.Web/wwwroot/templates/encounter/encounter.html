<dndgen-collapsable-list heading="{{encounter.description.length ? encounter.description : 'Encounter CR ' + encounter.actualEncounterLevel }}" has-list="true">
    <span>Target Encounter Level: {{encounter.targetEncounterLevel}}</span>
    <br />
    <span>Average Encounter Level: {{encounter.averageEncounterLevel}} ({{encounter.averageDifficulty}})</span>
    <br />
    <span>Actual Encounter Level: {{encounter.actualEncounterLevel}} ({{encounter.actualDifficulty}})</span>
    <div>
        <dndgen-collapsable-list heading="Creatures" has-list="true">
            <ul>
                <li ng-repeat="creature in encounter.creatures">
                    <dndgen-collapsable-list heading="{{creature.type.name}} {{creature.type.description ? '(' + creature.type.description + ')' : ''}} x{{creature.quantity}}" has-list="true">
                        <ul>
                            <li ng-show="creature.type.subType">
                                <dndgen-collapsable-list heading="{{creature.type.subType.name}} {{creature.type.subType.description ? '(' + creature.type.subType.description + ')' : ''}}" has-list="creature.type.subType.subType">
                                    <ul>
                                        <li ng-show="creature.type.subType.subType">
                                            <span>{{creature.type.subType.subType.name}} {{creature.type.subType.subType.description ? '(' + creature.type.subType.subType.description + ')' : ''}}</span>
                                        </li>
                                    </ul>
                                </dndgen-collapsable-list>
                            </li>
                            <li>Challenge Rating: {{creature.challengeRating}}</li>
                        </ul>
                    </dndgen-collapsable-list>
                </li>
            </ul>
        </dndgen-collapsable-list>
    </div>
    <div>
        <dndgen-collapsable-list heading="Treasures{{encounter.treasures.length ? '' : ': None'}}" has-list="encounter.treasures.length > 0">
            <ul>
                <li ng-repeat="treasure in encounter.treasures">
                    <dndgen-treasure treasure="treasure"></dndgen-treasure>
                </li>
            </ul>
        </dndgen-collapsable-list>
    </div>
    <div>
        <dndgen-collapsable-list ng-show="encounter.characters.length" heading="Characters" has-list="true">
            <ul>
                <li ng-repeat="character in encounter.characters">
                    <dndgen-character character="character"></dndgen-character>
                </li>
            </ul>
        </dndgen-collapsable-list>
    </div>
</dndgen-collapsable-list>